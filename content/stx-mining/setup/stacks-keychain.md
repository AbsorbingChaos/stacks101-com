---
title: "Setting up a Stacks Keychain"
date: 2021-01-02T15:36:10Z
description: "Not your keys, not your crypto"
layout: "section"
---

### Table of Contents

- [Creating a Keychain](#creating-a-keychain)
  - [Prerequisites](#prerequisites)
  - [stacks-cli](#stacks-cli)
  - [stacks-gen](#stacks-gen)
- [Importing address into Bitcoind](#importing-address-into-bitcoind)
  - [Import Address](#import-address)
  - [Import Private Key](#import-private-key)
- [Obtaining tBTC](#obtaining-tbtc)
- [Other Resources](#other-resources)

{{< notification params="is-danger is-light py-6 has-text-weight-bold"
 content="Please note that the information in these tutorials was intended for Part 1 and 2 of the Daemon Technologies competition on the Stacks Testnet.<br /><br />To find the most up to date information, please visit the <a href=\"https://docs.blockstack.org/\" target=\"_blank\" rel=\"noopener\">official Stacks Documentation website.</a>" >}}

## Creating a Keychain

### Prerequisites

{{< notification params="is-warning is-light"
 content="To generate a keychain, the command <code>npx</code> is used and requires that <a href=\"https://nodejs.dev\" rel=\"noopener\" target=\"_blank\">Node.js</a> is installed." >}}

To check which version of each software you have installed, use the commands below:

```bash
node -v
npm -v
npx -v
```

If you need to install another version of node, the [Node Version Manager](https://github.com/nvm-sh/nvm) is recommended for Linux, MacOS, and Windows WSL. If you are using Windows, directly download the software from the [Node.js website](https://nodejs.devNode.js).

### stacks-cli

To generate a keychain using the command from the [Stacks documentation:](https://docs.blockstack.org/start-mining#running-a-miner)

```bash
npx @stacks/cli make_keychain -t > keychain.json
```

### stacks-gen

To generate a keychain using [stacks-gen from Pascal:](https://github.com/psq/stacks-gen)

```bash
npx -q stacks-gen sk --testnet > keychain.json
```

*Note: the commands above will save the keychain information to a file named `keychain.json`. You can view this file in any text editor or via the command line using `cat keychain.json`.*

## Importing address into Bitcoind

In order to [use your BTC address with `bitcoind`,](/stx-mining-setup/bitcoin-node/#interacting-with-bitcoind) you will need to first tell your node about your BTC address using either `importaddress` or `importprivkey` with `bitcoin-cli`. A quick description of both options is below, with more information on the [Bitcoin Node page.](#other-resources)

*Please note that `-rpcclienttimeout=7200` should be added to the bitcoin-cli command for importing either an address or key, as it can take quite a while for the operation to complete.*

### Import Address

> Adds an address or script (in hex) that can be watched as if it were in your wallet but cannot be used to spend. Requires a new wallet backup.
> 
> [bitcoindeveloper: importaddress](https://developer.bitcoin.org/reference/rpc/importaddress.html)

In order to use `importaddress` we only need the BTC address generated by either tool listed above.

### Import Private Key

> Adds a private key (as returned by dumpprivkey) to your wallet. Requires a new wallet backup.
> 
> [bitcoindeveloper: importprivkey](https://developer.bitcoin.org/reference/rpc/importprivkey.html)

In order to use `importprivkey` we need a Wallet Import Format (WIF) formatted file, which can be obtained by using `stacks-gen`.

If you did not use `stacks-gen` to create your initial key, you can import your existing key using the backup phrase.

```bash
stacks-gen sk --testnet --phrase "replace with twenty four word backup phrase" > keychain_stacksgen.json
```

*Note: the command above will save the keychain information to a file named `keychain_stacksgen.json`. You can view this file in any text editor or via the command line using `cat keychain_stacksgen.json`.*

The file generated by `stacks-gen` will contain a value for `wif` that can be used with `bitcoin-cli importprivkey`.

## Obtaining tBTC

Since `stacks-node` is connecting to the bitcoin testnet, you can use any online faucet to obtain tBTC, as well as view your balance and transactions in any online explorer that supports bitcoin testnet.

{{< notification params="is-danger is-light"
 content="Note that tBTC does not have any real-world value, and avoid any scams asking you to pay for it." >}}

## Other Resources

{{< notification params="is-danger is-light py-6 has-text-weight-bold"
 content="Please note that the information in these tutorials was intended for Part 1 and 2 of the Daemon Technologies competition on the Stacks Testnet.<br /><br />To find the most up to date information, please visit the <a href=\"https://docs.blockstack.org/\" target=\"_blank\" rel=\"noopener\">official Stacks Documentation website.</a>" >}}

{{< columns param="start-columns" >}}
  {{< resource-card title="Bitcoin Node"
    desc="A walkthrough for setting up and interacting with bitcoind for use with stacks-node."
    link="/stx-mining-setup/bitcoin-node" >}}
  {{< resource-card title="Stacks Node"
    desc="A walkthrough for setting up stacks-node and configuring it for mining."
    link="/stx-mining-setup/stacks-node" >}}
  {{< resource-card title="Stacks Keychain"
    desc="A walkthrough of setting up a stacks keychain using various tools."
    link="/stx-mining-setup/stacks-keychain" >}}
{{< columns param="end-columns" >}}
